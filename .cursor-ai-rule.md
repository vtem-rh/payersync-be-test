# Project Rule: AWS CDK TypeScript Standards

## 1. .gitignore
- Always include:
  - `node_modules/`
  - `cdk.out/`
  - `.env`
  - `*.js`, `*.d.ts`, `*.js.map`
  - `.vscode/`, `.idea/`, `.DS_Store`, `*.log`
- Rationale: Prevents committing dependencies, build artifacts, secrets, and IDE/user files.

## 2. cdk.json
- Keep minimal and clear:
  - Define the app entry point (e.g., `"app": "npx ts-node --prefer-ts-exts bin/your-app.ts"`).
  - Use `context` for environment/feature flags.
  - Avoid unnecessary complexity.
- Rationale: Simplicity aids maintainability and onboarding.

## 3. package.json
- Scripts:
  - Include: `build`, `watch`, `test`, `cdk`, `deploy:<env>`, `destroy:<env>`, `lint`, `format`.
- Dependencies:
  - Use exact versions for AWS CDK and related libraries.
  - Separate `devDependencies` (TypeScript, Jest, ESLint, Prettier) from `dependencies` (AWS SDK, CDK libraries).
- Best practices:
  - Add `lint` and `format` scripts using ESLint and Prettier.
  - Use semantic versioning.
  - Keep scripts and dependencies up to date.
- Rationale: Ensures reproducible builds, code quality, and easy automation.

## 4. Project Structure
- Recommended folders:
  - `bin/` (entry point)
  - `lib/` (stacks/constructs)
  - `test/` (unit tests)
  - `config/` (optional: environment configs)
- Documentation: Keep `README.md` up to date with setup, deployment, and contribution instructions.

## 5. Security & Compliance
- Never commit secrets: Use `.env` for local secrets, and ensure it's in `.gitignore`.
- Automate checks: Integrate `cdk-nag`, `eslint`, and `prettier` in CI/CD.

---

**References:**
- AWS CDK Best Practices: https://docs.aws.amazon.com/prescriptive-guidance/latest/best-practices-cdk-typescript-iac/introduction.html
- AWS CDK Project Structure: https://docs.aws.amazon.com/cdk/v2/guide/projects.html
- Example Templates: https://github.com/aws-samples/aws-cdk-project-template-for-devops 